<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width-device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../../bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../bootstrap/icons/font/bootstrap-icons.min.css">
        <link rel="stylesheet" href="../../assets/css/width.css">
        <link rel="stylesheet" href="../../assets/css/fonts.css">
        <script src="../../jquery/dist/jquery.min.js"></script>
        <script type="module" src="../scripts/matrix_generators.js"></script>
        <script type="module" src="../scripts/matrix_classifiers.js"></script>
        <title>Game</title>
    </head>
    <body class="d-flex flex-column min-vh-100">
        <!-- CABEÇALHO -->
        <header class="py-1 bg-black sticky-top">
            <!-- MENU DE NAVEGAÇÃO -->
            <nav class="navbar navbar-expand-lg navbar-dark" aria-current="page">
                <div class="container container-fluid">
                    <!-- BRAND -->
                    <a class="navbar-brand nav-link font-math text-white display-1 fs-1" href="../../index.html"><i class="bi bi-table"></i> detNull</a>

                    <!-- BOTÃO DO MENU -->
                    <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#mainMenu">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <!-- LINKS -->
                    <div class="collapse navbar-collapse" id="mainMenu">
                        <ul class="navbar-nav ms-auto">
                            <li class="nav-item ms-2 fs-5">
                                <a href="../../index.html" class="nav-link" role="button">Início</a>
                            </li>
                            <li class="nav-item ms-2 fs-5">
                                <a href="game.html" class="nav-link active">Jogo</a>
                            </li>
                            <li class="nav-item ms-2 fs-5">
                                <a href="development.html" class="nav-link" role="button">Desenvolvimento</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <!-- CONTEÚDO -->
        <main class="d-flex flex-column flex-fill flex-grow-1 justify-content-center align-items-center bg-secondary pb-4 px-2">
            <!-- INTRODUÇÃO -->
            <section class="container mt-4 rounded rounded-3 bg-dark shadow-lg text-light">
                <!-- TÍTULO -->
                <h1 class="fs-3 m-2 mb-4">Introdução</h1>

                <!-- CONTEÚDO -->
                <div class="container">
                    <p>
                        detNull é um jogo baseado no cálculo de determinante de uma matriz, onde se deve identificar se uma matriz tem determinante ou não. Com isso, caso o determinate seja o nulo, deve se identificar o porquê, com base nas propriedades existentes entre os valores das matrizes e seus determinantes.
                    </p>
                </div>
            </section>

            <!-- JOGO -->
            <section class="container mt-4 rounded rounded-3 bg-dark shadow-lg text-light" style="display: none" id="game">
                <!-- MATRIX -->
                <div class="d-flex justify-content-center py-4">
                    <div class="d-flex flex-column bg-white px-3 fs-2 fw-bold text-black rounded rounded-4">
                        <div class="d-flex flex-row">
                            <div id="matrixCell11" class="m-3 w-2ch">0</div>
                            <div id="matrixCell12" class="m-3 w-2ch">0</div>
                            <div id="matrixCell13" class="m-3 w-2ch">0</div>
                        </div>
                        <div class="d-flex flex-row">
                            <div id="matrixCell21" class="m-3 w-2ch">0</div>
                            <div id="matrixCell22" class="m-3 w-2ch">0</div>
                            <div id="matrixCell23" class="m-3 w-2ch">0</div>
                        </div>
                        <div class="d-flex flex-row">
                            <div id="matrixCell31" class="m-3 w-2ch">0</div>
                            <div id="matrixCell32" class="m-3 w-2ch">0</div>
                            <div id="matrixCell33" class="m-3 w-2ch">0</div>
                        </div>
                    </div>
                </div>
                <!-- OPÇÃO -->
                <div class="d-flex justify-content-center py-4">
                    <div class="d-flex flex-wrap justify-content-center gap-2 bg-white p-3 fw-bold text-black rounded rounded-4">
                        <button class="btn btn-dark px-4 fs-5" id="op1">1ª propriedade</button>
                        <button class="btn btn-dark px-4 fs-5" id="op2">2ª propriedade</button>
                        <button class="btn btn-dark px-4 fs-5" id="op3">3ª propriedade</button>
                        <button class="btn btn-dark px-4 fs-5" id="op4">4ª propriedade</button>
                    </div>
                </div>
            </section>

            <!-- JOGAR -->
            <section class="container mt-4 rounded rounded-3 text-center text-light">
                <button class="btn btn-dark px-5 fs-3" id="playGame">Iniciar</button>
            </section>

            <!-- PROPRIEDADES -->
            <section class="container mt-4 rounded rounded-3 bg-dark shadow-lg text-light">
                <!-- TÍTULO -->
                <h1 class="fs-3 m-2 mb-4">Propriedades</h1>

                <!-- LISTA DE PROPRIEDADES -->
                <div class="container">

                    <!--ACCORDION PARA PROPRIEDADES-->
                    <div class="accordion py-3" id="accordionProperty">

                        <!-- PROPRIEDADE 01 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button type="button" class="accordion-button bg-dark text-light" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    1ª Propriedade:
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse bg-dark text-light" data-bs-parent="#accordionProperty">
                                <div class="accordion-body">
                                    <p>
                                        Caso todos os elementos de uma linha ou coluna sejam iguais a zero, o determinante é nulo!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!--PROPRIEDADE 02-->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button type="button" class="accordion-button bg-dark text-light" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseOne">
                                    2ª Propriedade:
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse bg-dark text-light" data-bs-parent="#accordionProperty">
                                <div class="accordion-body">
                                    <p>
                                        Caso os elementos de duas linhas ou duas colunas sejam iguais, o determinante é nulo!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!--PROPRIEDADE 03-->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button type="button" class="accordion-button bg-dark text-light" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="true" aria-controls="collapseOne">
                                    3ª Propriedade:
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse bg-dark text-light" data-bs-parent="#accordionProperty">
                                <div class="accordion-body">
                                    <p>
                                        Caso os elementos entre duas linhas ou duas colunas apresentem valores proporcionais, o determinante é nulo!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!--PROPRIEDADE 04-->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button type="button" class="accordion-button bg-dark text-light" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="true" aria-controls="collapseOne">
                                    4ª Propriedade:
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse bg-dark text-light" data-bs-parent="#accordionProperty">
                                <div class="accordion-body">
                                    <p>
                                        Caso uma linha ou coluna for o resultado da combinação linear entre outras duas linhas ou duas colunas, o determinante é nulo!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!--PROPRIEDADE 05-->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button type="button" class="accordion-button bg-dark text-light" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="true" aria-controls="collapseOne">
                                    5ª Propriedade:
                                </button>
                            </h2>
                            <div id="collapseFive" class="accordion-collapse collapse bg-dark text-light" data-bs-parent="#accordionProperty">
                                <div class="accordion-body">
                                    <p>
                                        O determinate de uma matriz é igual ao determinate da sua transposta!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!--PROPRIEDADE 06-->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button type="button" class="accordion-button bg-dark text-light" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="true" aria-controls="collapseOne">
                                    6ª Propriedade:
                                </button>
                            </h2>
                            <div id="collapseSix" class="accordion-collapse collapse bg-dark text-light" data-bs-parent="#accordionProperty">
                                <div class="accordion-body">
                                    <p>
                                        Ao se trocar de posição duas linhas ou duas colunas, o determinate da matriz resultante será o oposto do determinante da matriz orignal!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!--PROPRIEDADE 07-->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button type="button" class="accordion-button bg-dark text-light" data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="true" aria-controls="collapseOne">
                                    7ª Propriedade:
                                </button>
                            </h2>
                            <div id="collapseSeven" class="accordion-collapse collapse bg-dark text-light" data-bs-parent="#accordionProperty">
                                <div class="accordion-body">
                                    <p>
                                        Ao se multiplicar um valor escalar por uma matriz, o determinante da matriz resultante será igual ao determinate da matriz original multiplicado pelo valor escalar!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!--PROPRIEDADE 08-->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button type="button" class="accordion-button bg-dark text-light" data-bs-toggle="collapse" data-bs-target="#collapseEight" aria-expanded="true" aria-controls="collapseOne">
                                    8ª Propriedade:
                                </button>
                            </h2>
                            <div id="collapseEight" class="accordion-collapse collapse bg-dark text-light" data-bs-parent="#accordionProperty">
                                <div class="accordion-body">
                                    <p>
                                        Se todos os elementos de um lado da diagonal principal forem nulos, o determinante desta matriz será igual ao produto dos elementos da diagonal principal!
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- COMO JOGAR -->
            <section class="container mt-4 rounded rounded-3 bg-dark shadow-lg text-light">
                <!-- TÍTULO -->
                <h1 class="fs-3 m-2 mb-4">Como jogar?</h1>

                <!-- REGRAS -->
                <div class="container">
                    <ul class="fs-6\">
                        <li>
                            O jogador deverá tentar clicar em jogar inicialmente
                        </li>
                        <li>
                            Após isso o jogo se iniciará, e o jogador deverá analizar a matriz
                        </li>
                        <li>
                            De acordo jogador deve identificar qual a propriedade que se aplica a matriz gerada
                        </li>
                        <li>
                            Em seguida deverá selecionar a opção correspondente a propriedade
                        </li>
                    </ul>
                </div>
            </section>
        </main>

        <!-- RODAPÉ -->
        <footer class="d-flex justify-content-center bg-black text-white">
            <div class="d-flex flex-row flex-wrap">
                <!--CRÉDITOS-->
                <div class="d-flex flex-column mx-5 p-2">
                    <h5 class=" p-1">
                        Jogo Desenvolvido por:
                    </h5>
                        <ul class="m-0 list-unstyled">
                            <li>Paulo Pinheiro da Silva Fraga</li>
                            <li>Anthony Souza Antônio Pedro</li>
                            <li>Marcos Guilherme Sócrates Moraes</li>
                            <li>João Vieira Almeida Silva</li>
                        </ul>
                </div>

                <!--CONTATO-->
                <div class="d-flex flex-column mx-5 p-2">
                    <h5 class=" p-1">
                        Contato:
                    </h5>
                    <ul class="m-0 list-unstyled">
                        <li>paulosocratesdesouza@gmail.com</li>
                        <li>anthonyguilhermevieiramoraes@gmail.com</li>
                        <li>marcosantonioalmeida@gmail.com</li>
                        <li>joaofragapereira@gmail.com</li>
                    </ul>
                </div>
            </div>
        </footer>

        <!-- MODALS -->
        <div class="modal fade" tabindex="1" role="dialog" id="modal1">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-success">
                        <h4 class="modal-title fw-bold">
                            Acerto!!!
                        </h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="close"></button>
                    </div>
                    <div class="modal-body">
                        <h4>Parabéns, Você acertou!</h4>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" tabindex="1" role="dialog" id="modal2">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-danger">
                        <h4 class="modal-title fw-bold">
                            Erro!!!
                        </h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="close"></button>
                    </div>
                    <div class="modal-body">
                        <h4>Desculpa, Você errou!</h4>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script src="../../bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="module">
        import { generateMatrixProp1, generateMatrixProp2, generateMatrixProp3, generateMatrixProp4 } from '../scripts/matrix_generators.js';
        import { isProp1, isProp2, isProp3, isProp4 } from '../scripts/matrix_classifiers.js';

        const modal1 = new bootstrap.Modal(document.getElementById('modal1'));
        const modal2 = new bootstrap.Modal(document.getElementById('modal2'));

        const matrixIDs = [
            ["#matrixCell11", "#matrixCell12", "#matrixCell13"],
            ["#matrixCell21", "#matrixCell22", "#matrixCell23"],
            ["#matrixCell31", "#matrixCell32", "#matrixCell33"]
        ];

        function loadMatrix() {
            const numProp = Math.floor(Math.random() * 4) + 1;
            let matrix;
            switch (numProp) {
                case 1:
                    matrix = generateMatrixProp1();
                    break;
                case 2:
                    matrix = generateMatrixProp2();
                    break;
                case 3:
                    matrix = generateMatrixProp3();
                    break;
                case 4:
                    matrix = generateMatrixProp4();
                    break;
            }

            for (let i = 0; i < 3; i++) {
                for (let j = 0; j < 3; j++) {
                    $(matrixIDs[i][j]).text(matrix[i][j]);
                }
            }
        }

        function verify(option) {
            let matrixValues = [
                [parseInt($("#matrixCell11").text()), parseInt($("#matrixCell12").text()), parseInt($("#matrixCell13").text())],
                [parseInt($("#matrixCell21").text()), parseInt($("#matrixCell22").text()), parseInt($("#matrixCell23").text())],
                [parseInt($("#matrixCell31").text()), parseInt($("#matrixCell32").text()), parseInt($("#matrixCell33").text())]
            ];
            let isCorrect = false;
            switch (option) {
                case 1:
                    isCorrect = isProp1(matrixValues);
                    break;
                case 2:
                    isCorrect = isProp2(matrixValues);
                    break;
                case 3:
                    isCorrect = isProp3(matrixValues);
                    break;
                case 4:
                    isCorrect = isProp4(matrixValues);
                    break;
                default:
                    alert("ERRO");
                    break;
            }

            if (isCorrect) {
                modal1.show()
            } else {
                modal2.show()
            }
        }

        $("#playGame").click(() => {
            loadMatrix();
            $("#game").fadeIn(3000);
            $("#playGame").fadeOut(3000);
        });
        $("#op1").click(() => {
            verify(1);
            loadMatrix();
        })
        $("#op2").click(()=>{
            verify(2);
            loadMatrix();
        })
        $("#op3").click(() => {
            verify(3);
            loadMatrix();
        })
        $("#op4").click(() => {
            verify(4);
            loadMatrix();
        })
    </script>
</html>